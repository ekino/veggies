{
  "version": 3,
  "sources": ["../../../../src/extensions/snapshot/hooks.js"],
  "sourcesContent": ["'use strict'\n\nimport { Before, BeforeAll, AfterAll } from '@cucumber/cucumber'\n\nimport * as clean from './clean.js'\nimport * as cmdOptions from './cmd_options.js'\nimport * as statistics from './statistics.js'\n\nconst getCurrentScenarioLineNumber = ({ gherkinDocument, pickle }) => {\n    const currentScenarioId = pickle.astNodeIds[0]\n    const { scenario } = gherkinDocument.feature.children.find(\n        ({ scenario: { id } }) => id === currentScenarioId,\n    )\n    return scenario.location.line\n}\n\n/**\n * Registers hooks for the fixtures extension.\n *\n * @module extensions/fixtures/hooks\n */\n\nexport const install = () => {\n    Before(function (scenarioInfos) {\n        const file = scenarioInfos.gherkinDocument.uri\n        const line = getCurrentScenarioLineNumber(scenarioInfos)\n\n        this.snapshot.featureFile = file\n        this.snapshot.scenarioLine = line\n    })\n\n    BeforeAll(function () {\n        clean.resetReferences()\n    })\n\n    AfterAll(function () {\n        if (cmdOptions.cleanSnapshots) clean.cleanSnapshots()\n        statistics.printReport()\n    })\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,sBAA4C;AAE5C,YAAuB;AACvB,iBAA4B;AAC5B,iBAA4B;AAE5B,MAAM,+BAA+B,CAAC,EAAE,iBAAiB,OAAO,MAAM;AAClE,QAAM,oBAAoB,OAAO,WAAW,CAAC;AAC7C,QAAM,EAAE,SAAS,IAAI,gBAAgB,QAAQ,SAAS;AAAA,IAClD,CAAC,EAAE,UAAU,EAAE,GAAG,EAAE,MAAM,OAAO;AAAA,EACrC;AACA,SAAO,SAAS,SAAS;AAC7B;AAQO,MAAM,UAAU,MAAM;AACzB,8BAAO,SAAU,eAAe;AAC5B,UAAM,OAAO,cAAc,gBAAgB;AAC3C,UAAM,OAAO,6BAA6B,aAAa;AAEvD,SAAK,SAAS,cAAc;AAC5B,SAAK,SAAS,eAAe;AAAA,EACjC,CAAC;AAED,iCAAU,WAAY;AAClB,UAAM,gBAAgB;AAAA,EAC1B,CAAC;AAED,gCAAS,WAAY;AACjB,QAAI,WAAW,eAAgB,OAAM,eAAe;AACpD,eAAW,YAAY;AAAA,EAC3B,CAAC;AACL;",
  "names": []
}
