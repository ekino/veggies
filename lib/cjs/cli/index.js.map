{
  "version": 3,
  "sources": ["../../../src/cli/index.js"],
  "sourcesContent": ["'use strict'\n\nimport arg from 'arg'\nimport { createRequire } from 'module'\n\nconst CucumberCli = createRequire(import.meta.url)('@cucumber/cucumber/lib/cli/index').default\n\nconst veggiesArgsDefinitions = {\n    '--cleanSnapshots': Boolean,\n    '--updateSnapshots': Boolean,\n    '-u': '--updateSnapshots',\n    '--preventSnapshotsCreation': Boolean,\n}\n\nconst printHelp = () => {\n    console.log('veggies help')\n    console.log(`\nOptions:\n  --cleanSnapshots            removes unused snapshots (not recommended while matching tags)\n  -u, --updateSnapshots       updates current snapshots if required\n  --preventSnapshotsCreation  a snapshot related step that would create one will fail instead (useful on CI environment)\n  \nFor more details please visit https://github.com/ekino/veggies/blob/master/README.md\n    `)\n    console.log('cucumber-js help\\n')\n}\n\nexport const run = async (argv) => {\n    const { _: cucumberArgs } = arg(veggiesArgsDefinitions, { argv, permissive: true })\n\n    try {\n        if (cucumberArgs.includes('--help')) {\n            printHelp()\n        }\n\n        const result = await new CucumberCli({\n            argv: cucumberArgs,\n            cwd: process.cwd(),\n            stdout: process.stdout,\n            stderr: process.stderr,\n            env: process.env,\n        }).run()\n\n        process.exit(result.success ? 0 : 1)\n    } catch (error) {\n        console.error(error)\n        process.exit(1)\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,iBAAgB;AAChB,oBAA8B;AAH9B;AAKA,MAAM,kBAAc,6BAAc,YAAY,GAAG,EAAE,kCAAkC,EAAE;AAEvF,MAAM,yBAAyB;AAAA,EAC3B,oBAAoB;AAAA,EACpB,qBAAqB;AAAA,EACrB,MAAM;AAAA,EACN,8BAA8B;AAClC;AAEA,MAAM,YAAY,MAAM;AACpB,UAAQ,IAAI,cAAc;AAC1B,UAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOX;AACD,UAAQ,IAAI,oBAAoB;AACpC;AAEO,MAAM,MAAM,OAAO,SAAS;AAC/B,QAAM,EAAE,GAAG,aAAa,QAAI,WAAAA,SAAI,wBAAwB,EAAE,MAAM,YAAY,KAAK,CAAC;AAElF,MAAI;AACA,QAAI,aAAa,SAAS,QAAQ,GAAG;AACjC,gBAAU;AAAA,IACd;AAEA,UAAM,SAAS,MAAM,IAAI,YAAY;AAAA,MACjC,MAAM;AAAA,MACN,KAAK,QAAQ,IAAI;AAAA,MACjB,QAAQ,QAAQ;AAAA,MAChB,QAAQ,QAAQ;AAAA,MAChB,KAAK,QAAQ;AAAA,IACjB,CAAC,EAAE,IAAI;AAEP,YAAQ,KAAK,OAAO,UAAU,IAAI,CAAC;AAAA,EACvC,SAAS,OAAO;AACZ,YAAQ,MAAM,KAAK;AACnB,YAAQ,KAAK,CAAC;AAAA,EAClB;AACJ;",
  "names": ["arg"]
}
